import{n as U,a as E,r as b,p as I,o as O,b as r,c as i,l as v,e as t,w as o,F as x,m as L,f as d,d as j,h as V,t as T,g as f,q as M,j as q}from"./index-387d895b.js";import{u as J}from"./Common-aa558fa2.js";import{z as B}from"./index-a45049df.js";const R=U("category",()=>{const A=J(),a=E(),g=b({type:1,detailId:"CL_123456890"}),k=b([{key:1,title:"支出",status:!0,arr:[{key:"CL_123456789",title:"家居",img:"/src/assets/imgs/MugShot.png"},{key:"CL_1234567890",title:"旅遊",img:"/src/assets/imgs/MugShot1.png"},{key:"CL_12345678901",title:"購物",img:"/src/assets/imgs/MugShot2.png"}]},{key:2,title:"收入",status:!1,arr:[{key:"CL_123456789",title:"薪水",img:"/src/assets/imgs/MugShot.png"},{key:"CL_1234567890",title:"回饋",img:"/src/assets/imgs/MugShot1.png"},{key:"CL_12345678901",title:"股票",img:"/src/assets/imgs/MugShot2.png"}]}]),l=b(k.value[0].arr),_=b([{key:"CL_123456789",title:"家居-細項",img:"/src/assets/imgs/MugShot.png"},{key:"CL_1234567890",title:"家居-細項",img:"/src/assets/imgs/MugShot1.png"},{key:"CL_12345678901",title:"家居-細項",img:"/src/assets/imgs/MugShot2.png"},{key:"CL_12345679",title:"家居-細項",img:"/src/assets/imgs/MugShot.png"},{key:"CL_123456890",title:"家居-細項",img:"/src/assets/imgs/MugShot1.png",status:!0}]),S=b(1),s=(m,n)=>{A.FunctionToken(e,m,n,"GetList")};async function e(m,n,y){const p=await I.post(`Category/${y}`,m),C=JSON.parse(p.data);if(C.Status)switch(n){case"functionLogin":location.href="#/personal/introduction";break;default:alert("typeError");break}else switch(A.isJSON(C.Data)?alert(JSON.parse(C.Data)):alert(C.Data),n){case"checkToken":a.push("/");break}}return{category:k,categoryArr:l,categoryDetailArr:_,categorySetStatus:S,categorySelect:g,functionCategory:s}}),Y=U("accounting",()=>{const A=J(),a=E(),g=(l,_)=>{console.log(l),console.log(_),A.FunctionToken(k,l,_)};async function k(l,_){const S=await I.post("Default/Account",l),s=JSON.parse(S.data);if(s.Status)switch(_){case"checkToken":break;default:alert("typeError");break}else switch(A.isJSON(s.Data)?alert(JSON.parse(s.Data)):alert(s.Data),_){case"checkSession":a.push("/");break}}return{functionAccounting:g}}),z={key:0,class:"type xScrollbar"},G=["onClick"],H={class:"text-center"},W=f("div",{class:"text-center"},"新增細項",-1),K=f("div",{class:"text-center"},"返回",-1),Q=["onClick"],X={class:"text-center"},Z={key:1,class:"type xScrollbar"},tt={class:"pr-5"},et={class:"text-center"},ot=f("div",{class:"text-center"},"返回",-1),lt={__name:"Type",setup(A){const a=R(),g=b(!1);O(()=>{});const k=()=>{console.log(1)},l=s=>{console.log(s),a.categorySetStatus=2},_=s=>{a.categorySelect.category=s,a.category.forEach(e=>{e.key===s?(e.status=!0,a.categoryArr=e.arr):e.status=!1}),a.categorySetStatus=1},S=s=>{console.log(s),a.categorySelect.detailId=s,console.log(a.categorySetStatus),a.categorySetStatus=3};return(s,e)=>{const m=r("v-btn"),n=r("v-col"),y=r("v-row"),p=r("v-img"),C=r("v-card-title"),D=r("v-text-field"),w=r("v-card-text"),h=r("v-spacer"),u=r("v-card-actions"),F=r("v-card"),P=r("v-dialog");return i(),v(x,null,[t(y,null,{default:o(()=>[(i(!0),v(x,null,L(d(a).category,(c,N)=>(i(),j(n,{key:c.key},{default:o(()=>[t(m,{block:"",color:c.status?"brown-darken-3":"brown-lighten-4",variant:"tonal",onClick:$=>_(c.key)},{default:o(()=>[V(T(c.title),1)]),_:2},1032,["color","onClick"])]),_:2},1024))),128))]),_:1}),d(a).categorySetStatus!=3?(i(),v("div",z,[d(a).categorySetStatus==2?(i(!0),v(x,{key:0},L(d(a).categoryDetailArr,(c,N)=>(i(),v("div",{class:"pr-5",key:N,onClick:$=>S(c.key)},[t(p,{class:"circle",src:c.img},null,8,["src"]),f("div",H,T(c.title),1)],8,G))),128)):M("",!0),d(a).categorySetStatus==2?(i(),v("div",{key:1,class:"pr-5",onClick:e[0]||(e[0]=c=>g.value=!0)},[t(p,{class:"circle",src:"\\src\\assets\\imgs\\plus.png"}),W])):M("",!0),d(a).categorySetStatus==2?(i(),v("div",{key:2,class:"pr-5",onClick:e[1]||(e[1]=c=>d(a).categorySetStatus=1)},[t(p,{class:"circle",src:"\\src\\assets\\imgs\\back.png"}),K])):(i(!0),v(x,{key:3},L(d(a).categoryArr,(c,N)=>(i(),v("div",{class:"pr-5",onClick:$=>l(c.key)},[t(p,{class:"circle",src:c.img},null,8,["src"]),f("div",X,T(c.title),1)],8,Q))),256))])):(i(),v("div",Z,[f("div",tt,[t(p,{class:"circle",src:d(a).categoryDetailArr[0].img},null,8,["src"]),f("div",et,T(d(a).categoryDetailArr[0].title),1)]),f("div",{class:"pr-5",onClick:e[2]||(e[2]=c=>d(a).categorySetStatus=2)},[t(p,{class:"circle",src:"\\src\\assets\\imgs\\back.png"}),ot])])),t(P,{modelValue:g.value,"onUpdate:modelValue":e[5]||(e[5]=c=>g.value=c),width:"500",transition:"dialog-bottom-transition"},{default:o(()=>[t(F,null,{default:o(()=>[t(C,{class:"text-h5"},{default:o(()=>[V(" 新增 ")]),_:1}),t(w,null,{default:o(()=>[t(D,{label:"標題"})]),_:1}),t(u,null,{default:o(()=>[t(h),t(m,{color:"green-darken-1",variant:"text",onClick:e[3]||(e[3]=c=>g.value=!1)},{default:o(()=>[V(" 取消 ")]),_:1}),t(m,{color:"green-darken-1",variant:"text",onClick:e[4]||(e[4]=c=>k())},{default:o(()=>[V(" 新增 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},at=f("h1",{class:"text-center mb-10"},"記帳",-1),rt={__name:"Accounting",setup(A){const a=q();E();const g=R(),k=Y();b(new Date);const l=b({project:"無",currency:"台幣",time:new Date});O(()=>{a.query.id!=null&&(l.value={title:"test",merchant:"最愛快炒",type:2,amount:299,currency:"台幣",time:new Date,project:"無"}),g.categorySelect.category=2});const _=()=>{const s={TYPE:"INSERT",ACCOUNTING_INSERT:{AT_TYPE:g.categorySelect.category,AT_CDID:g.categorySelect.detailId,AT_MERCHANT:l.value.merchant,AT_TITLE:l.value.title,AT_AMOUNT:l.value.amount,AT_CURRENCY:l.value.currency,AT_MEMO:l.value.merchant,AT_PJID:l.value.project}};k.functionAccounting(s,"insert")},S=s=>!!s||"必填";return(s,e)=>{const m=r("v-text-field"),n=r("v-col"),y=r("v-row"),p=r("v-select"),C=r("VueDatePicker"),D=r("v-file-input"),w=r("v-textarea"),h=r("v-btn");return i(),v(x,null,[at,t(lt),t(y,null,{default:o(()=>[t(n,{cols:"12",lg:"6"},{default:o(()=>[t(y,null,{default:o(()=>[t(n,null,{default:o(()=>[t(m,{label:"商家","hide-details":"auto",modelValue:l.value.merchant,"onUpdate:modelValue":e[0]||(e[0]=u=>l.value.merchant=u)},null,8,["modelValue"])]),_:1}),t(n,null,{default:o(()=>[t(m,{label:"名稱",rules:[S],"hide-details":"auto",modelValue:l.value.title,"onUpdate:modelValue":e[1]||(e[1]=u=>l.value.title=u)},null,8,["rules","modelValue"])]),_:1})]),_:1})]),_:1}),t(n,{cols:"12",lg:"6"},{default:o(()=>[t(y,null,{default:o(()=>[t(n,null,{default:o(()=>[t(m,{type:"number",label:"金額",rules:[S],"hide-details":"auto",modelValue:l.value.amount,"onUpdate:modelValue":e[2]||(e[2]=u=>l.value.amount=u)},null,8,["rules","modelValue"])]),_:1}),t(n,null,{default:o(()=>[t(p,{clearable:"",label:"專案",items:["無","旅遊","儲蓄","消費","其他"],modelValue:l.value.project,"onUpdate:modelValue":e[3]||(e[3]=u=>l.value.project=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(n,{cols:"12",lg:"6"},{default:o(()=>[t(y,null,{default:o(()=>[t(n,null,{default:o(()=>[t(C,{modelValue:l.value.time,"onUpdate:modelValue":e[4]||(e[4]=u=>l.value.time=u),placeholder:"時間","format-locale":d(B),"text-input":""},null,8,["modelValue","format-locale"])]),_:1}),t(n,null,{default:o(()=>[t(p,{clearable:"",modelValue:l.value.currency,"onUpdate:modelValue":e[5]||(e[5]=u=>l.value.currency=u),label:"幣別",items:["台幣","日幣","人民幣","美金"]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(n,{cols:"12",lg:"6"},{default:o(()=>[t(D,{label:"圖片",class:"photo","prepend-icon":"mdi-camera"})]),_:1})]),_:1}),t(y,null,{default:o(()=>[t(n,null,{default:o(()=>[t(w,{label:"備註",variant:"outlined"})]),_:1})]),_:1}),t(y,null,{default:o(()=>[d(a).query.id!=null?(i(),j(n,{key:0},{default:o(()=>[t(h,{block:"",color:"#EF5350",onClick:e[6]||(e[6]=u=>_())},{default:o(()=>[V("刪除")]),_:1})]),_:1})):M("",!0),t(n,null,{default:o(()=>[t(h,{block:"",color:"#A1887F",onClick:e[7]||(e[7]=u=>_())},{default:o(()=>[V("確定")]),_:1})]),_:1})]),_:1})],64)}}};export{rt as default};
